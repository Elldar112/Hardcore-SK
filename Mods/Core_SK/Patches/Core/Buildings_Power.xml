<?xml version="1.0" encoding="UTF-8"?>
<Patch>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs</xpath>
		<value>
			<ThingDef Name="SK_BuildingBaseDummy" ParentName="SK_BuildingBase" Abstract="True" />
		</value>
	</Operation>

	<Operation Class="PatchOperationAttributeSet">
		<xpath>Defs/ThingDef[defName="PowerConduit"]</xpath>
		<attribute>ParentName</attribute>
		<value>SK_BuildingBaseDummy</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="HiddenConduit"]/costList</xpath>
		<value>
			<costList>
				<Wire>1</Wire>
				<ConcreteResource>1</ConcreteResource>
			</costList>
		</value>
	</Operation>

	<Operation Class="SK.PatchOperationReplaceExtended">
		<xpath>Defs/ThingDef[defName="HiddenConduit"]/statBases</xpath>
		<value>
			<WorkToBuild>80</WorkToBuild>
			<MaxHitPoints>160</MaxHitPoints>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="HiddenConduit" or defName="WaterproofConduit"]</xpath>
		<value>
			<researchPrerequisites Inherit="False">
				<li>Electrical_engineering_C2</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<Operation Class="SK.PatchOperationReplaceExtended">
		<xpath>Defs/ThingDef[defName="WaterproofConduit"]/statBases</xpath>
		<value>
			<WorkToBuild>25</WorkToBuild>
			<Flammability>1.0</Flammability>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="WaterproofConduit"]/costList</xpath>
		<value>
			<costList>
				<Wire>2</Wire>
			</costList>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="WaterproofConduit" or defName="HiddenConduit"]</xpath>
		<value>
			<constructionSkillPrerequisite>8</constructionSkillPrerequisite>
		</value>
	</Operation>

	<!-- I don't understand why it cannot be merged into above PatchOperation, but it do cannot -->
	<!-- <Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="HiddenConduit"]/graphicData</xpath>
		<value>
			<graphicClass>Graphic_Single</graphicClass>
		</value>
	</Operation> -->

	<!-- Will it get inherited to Hidden & Waterproof Conduit? -->
	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/ThingDef[defName="PowerConduit"]</xpath>
		<value>
			<li Class="SK.Events.EarthquakeExtension">
				<immunityToDamage>true</immunityToDamage>
			</li>
		</value>
	</Operation>


	<Operation Class="SK.PatchOperationReplaceExtended">
		<xpath>Defs/ThingDef[defName="PowerConduit"]/statBases</xpath>
		<value>
			<WorkToBuild>25</WorkToBuild>
			<MaxHitPoints>80</MaxHitPoints>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="PowerConduit"]/costList</xpath>
		<value>
			<costList>
				<Wire>1</Wire>
			</costList>
		</value>
	</Operation>


</Patch>